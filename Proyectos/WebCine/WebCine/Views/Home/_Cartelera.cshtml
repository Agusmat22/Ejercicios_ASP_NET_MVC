@model List<Cartel>

@{
    DateTime fechaExposicion;
    string tipo;

    if (this.ViewBag.FechaExposicion is not null)
    {
        fechaExposicion = this.ViewBag.FechaExposicion;
    }
    else
    {
        fechaExposicion = new DateTime(1900, 01, 01);
    }

    if(this.ViewBag.Tipo is not null)
    {
        tipo = this.ViewBag.Tipo;
    }
    else
    {
        tipo = "Pelicula";
    }

}

@if(Model is not null)
{
    
    <div class="row row-cols-md-2 row-cols-lg-3 justify-content-center">

        @foreach (Cartel cartel in Model)
        {
            @if (cartel.FechaEstreno >= fechaExposicion && cartel.Tipo == tipo)
            {
                <div class="col-12 mb-4">
                    <div class="card h-100 text-center pb-2" style="background-color:black">

                        <img class="card-img" alt="foto_pelicula" src=@cartel.ImagenURL style="max-height:18rem" />
                        <div class="card-body">
                            <h3 class="text-white">@cartel.Titulo</h3>
                            <p class="text-secondary">@cartel.Genero</p>
                        </div>

                        <div class="card-footer">
                            <a class="btn btn-light" href=@cartel.LinkPelicula target="_blank">Comprar Entrada</a>
                        </div>

                    </div>
                </div>
            }
            
        }


    </div>
        
    
}
